@{ 
    ViewBag.Title = "Books";
}

<style>
    #mydiv {  
        position: absolute;  
        top: 0;  
        left: 0;  
        width: 100%;  
        height: 100%;  
        z-index: 1000;  
        background-color: white;  
        opacity: .8;  
    }    

    .ajax-loader {
        position: absolute;
        left: 50%;
        top: 50%;
        margin-left: -32px; /* -1 * image width / 2 */
        margin-top: -32px; /* -1 * image height / 2 */
        display: block;       
    }
</style>
  

<div ng-app="myApp" ng-controller="BookCtrl" ng-cloak>
    <div id="mydiv" data-ng-show="loading">        
        <img src="~/Content/loader-large.gif" class="ajax-loader" />
    </div>  
    <br>
    <h3>
        Books
    </h3>
    <hr>
    <div class="form-actions no-color">
        <input type="text" name="name" placeholder="Book name" ng-model="nameBook" />
        <input type="number" name="name" placeholder="Pages count" ng-model="pageCount" />        
        <button class="btn btn-default" ng-click="sendData()">Create</button>
    </div>
    <br>

    <table class="col-lg-12 table table-bordered table-striped" style="display:none;">
        <thead>
            <tr>
                <th>
                    id
                </th>
                <th>
                    Photo
                </th>
                <th>
                    Name
                </th> 
                <th>
                    Pages
                </th>                 
                <th>
                    Sages
                </th>                
                <th>Actions</th>

            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="book in data" ng-cloak ng-show="book.BookId">

                <td>{{book.BookId}}</td>
                <td>                    
                    <img ng-src="data:image/JPEG;base64,{{book.Photo}}" width="50"/>
                </td>

                <td>{{book.Name}}</td>
                <td>{{book.Pages}}</td>
                <td><span ng-repeat="sage in book.Sages">{{sage.Name}}<br></span></td>
                <td>
                    <span class="btn btn-danger" ng-click="deleteUser(book.BookId)">Delete</span>
                    <span class="btn btn-info" ng-click="updateUser(book.BookId)">Update</span>
                </td>

            </tr>
        </tbody>
    </table>
</div>